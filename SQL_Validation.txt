SQL Validation Queries (Common QA Scenarios)Add these to a file /sql/validation-queries.sql in your repo.sql

-- 1. Count total records (sanity check)
SELECT COUNT(*) AS total_records FROM users;

-- 2. Check for duplicates
SELECT email, COUNT(*) AS count
FROM users
GROUP BY email
HAVING COUNT(*) > 1;

-- 3. Validate foreign key integrity (assignments reference valid users)
SELECT a.id
FROM assignments a
LEFT JOIN users u ON a.userId = u.id
WHERE u.id IS NULL;

-- 4. Check data consistency (active users with assignments)
SELECT u.id, u.name
FROM users u
JOIN assignments a ON u.id = a.userId
WHERE u.active = 0;

-- 5. Date range validation
SELECT MIN(createdAt) AS earliest, MAX(createdAt) AS latest
FROM assignments;

-- 6. Enum/allowed values check
SELECT DISTINCT result
FROM assignments
WHERE result NOT IN ('PASSED', 'FAILED', 'PENDING');

-- 7. Null check on required fields
SELECT *
FROM users
WHERE name IS NULL OR email IS NULL;

